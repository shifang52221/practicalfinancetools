---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { SITE } from "../../config/site";
import { TOOLS } from "../../lib/tools";
import AdSlot from "../../components/AdSlot.astro";

const title = `Calculators | ${SITE.name}`;
const description =
  "Free debt and mortgage calculators: credit card payoff, APR (fees), DTI, mortgage payment, amortization, extra payments, and rent vs buy. Educational use only.";

const grouped = TOOLS.reduce<Record<string, typeof TOOLS>>((acc, t) => {
  (acc[t.category] ||= []).push(t);
  return acc;
}, {});
const slots = SITE.adsenseSlots;
---
<BaseLayout title={title} description={description} canonicalPath="/calculators">
  <section class="card hero">
    <h1>Calculators</h1>
    <p>
      Pick a tool below. Each page includes inputs, clear results, and the calculation assumptions. For mortgage questions like
      "amortization with extra payments", "one extra payment per year", and "biweekly vs extra principal", start with the mortgage tools
      and compare scenarios.
    </p>
    <div class="btn-row">
      <a class="btn btn-primary" href="/calculators/credit-card-payoff-calculator">Start with credit cards</a>
      <a class="btn" href="/calculators/mortgage-payment-calculator">Start with a mortgage</a>
    </div>
  </section>

  <section class="grid" style="margin-top:18px">
    <div class="card section prose col-6">
      <h2 style="margin-top:0">Start here</h2>
      <p class="muted" style="margin:10px 0 0">
        If you're comparing offers or planning payoff strategies, these short guides explain the concepts behind the calculators and link
        to the right tool for your situation.
      </p>
      <div class="btn-row" style="margin-top:12px">
        <a class="btn" href="/guides/apr-vs-interest-rate">APR vs interest rate</a>
        <a class="btn" href="/guides/credit-card-payoff-strategy">Credit card payoff strategy</a>
        <a class="btn" href="/guides/extra-mortgage-payments">Extra mortgage payments</a>
        <a class="btn" href="/guides/amortization-with-extra-payments">Amortization with extra payments</a>
        <a class="btn" href="/guides/one-extra-mortgage-payment-per-year">One extra payment per year</a>
        <a class="btn" href="/guides/biweekly-vs-extra-principal">Biweekly vs extra principal</a>
      </div>
    </div>
    <div class="card section prose col-6">
      <h2 style="margin-top:0">How to get better answers</h2>
      <ul class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>Use the same assumptions when comparing offers (term, fees, payment schedule).</li>
        <li>Prefer real statement numbers for balances and APRs (not marketing rates).</li>
        <li>Run a baseline, then change one input at a time (payment, rate, fee, or extra amount).</li>
      </ul>
    </div>
  </section>

  <section class="card section prose" style="margin-top:18px">
    <h2 style="margin-top:0">Mortgage payoff workflow</h2>
    <ol class="muted" style="margin:10px 0 0; padding-left:18px">
      <li>
        Estimate your baseline monthly cost (PITI + PMI) in the{" "}
        <a href="/calculators/mortgage-payment-calculator">Mortgage Payment Calculator</a>.
      </li>
      <li>
        See the principal-and-interest table in the{" "}
        <a href="/calculators/amortization-schedule-calculator">Amortization Schedule Calculator</a>.
      </li>
      <li>
        Compare extra principal scenarios (monthly extra, lump sum, or one extra payment per year) in the{" "}
        <a href="/calculators/extra-payment-calculator">Extra Payment Mortgage Calculator</a>.
      </li>
    </ol>
    <p class="muted" style="margin:12px 0 0">
      If your lender offers biweekly programs, confirm whether payments are posted immediately or held and posted monthly.
    </p>
  </section>

  <section class="grid" style="margin-top:18px">
    <div class="card section prose col-6">
      <h2 style="margin-top:0">Quick guide</h2>
      <ul class="muted" style="margin:10px 0 0; padding-left:18px">
        <li>
          Paying off one card with a fixed payment: <a href="/calculators/credit-card-payoff-calculator">Credit Card Payoff</a>.
        </li>
        <li>
          Paying off many debts: <a href="/calculators/debt-snowball-calculator">Snowball</a> vs{" "}
          <a href="/calculators/debt-avalanche-calculator">Avalanche</a>.
        </li>
        <li>
          Shopping for loans: compare <a href="/calculators/apr-calculator">APR (includes fees)</a>.
        </li>
        <li>
          Home buying: estimate <a href="/calculators/mortgage-payment-calculator">monthly payment</a>, then review the{" "}
          <a href="/calculators/amortization-schedule-calculator">amortization schedule</a>.
        </li>
      </ul>
    </div>
    <div class="card section prose col-6">
      <h2 style="margin-top:0">What to verify</h2>
      <p class="muted" style="margin:10px 0 0">
        Lenders and card issuers may use different rounding, PMI rules, escrow assumptions, and fee structures. Treat
        results as estimates and confirm final terms before making decisions.
      </p>
    </div>
  </section>

  <section style="margin-top:18px">
    {Object.entries(grouped).map(([category, tools]) => (
      <div style="margin-bottom:16px">
        <div class="pill" style="margin: 6px 0 10px">{category}</div>
        <div class="grid">
          {tools.map((t) => (
            <a class="card2 tool col-6" href={`/calculators/${t.slug}`}>
              <div class="tool-title">{t.title}</div>
              <div class="tool-desc">{t.description}</div>
            </a>
          ))}
        </div>
      </div>
    ))}
  </section>

  <section class="section">
    <AdSlot slot={slots.calculatorsListMid} minHeight={280} />
  </section>

  <section class="card section prose" style="margin-top:18px">
    <h2 style="margin-top:0">FAQ</h2>
    <details class="card2" style="padding:12px; margin:10px 0">
      <summary style="cursor:pointer; font-weight:800">Are these calculators free?</summary>
      <div class="muted" style="margin-top:8px">Yes. No account or signup is required.</div>
    </details>
    <details class="card2" style="padding:12px; margin:10px 0">
      <summary style="cursor:pointer; font-weight:800">Do extra payments lower my monthly mortgage payment?</summary>
      <div class="muted" style="margin-top:8px">
        Usually no. Extra principal tends to shorten payoff time and reduce total interest. Your required payment usually stays the same
        unless you recast the loan.
      </div>
    </details>
    <details class="card2" style="padding:12px; margin:10px 0">
      <summary style="cursor:pointer; font-weight:800">Do you store my inputs?</summary>
      <div class="muted" style="margin-top:8px">
        Calculations run in your browser. See <a href="/privacy-policy">Privacy Policy</a> and <a href="/cookie-notice">Cookie Notice</a>.
      </div>
    </details>
    <details class="card2" style="padding:12px; margin:10px 0">
      <summary style="cursor:pointer; font-weight:800">Is this financial advice?</summary>
      <div class="muted" style="margin-top:8px">
        No. This site is for educational use only. Verify results with lenders, card issuers, and professionals.
      </div>
    </details>
  </section>
</BaseLayout>
